<!DOCTYPE html>

<html lang="en">

    <head>

        <meta charset="UTF-8">
        <meta name="viewport" content="initial-scale=1, width=device-width">
        
        <!-- bootstrap-->
         <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

        <link href="/static/styles.css" rel="stylesheet">
        
        <title>4Describid: {% block title %}{% endblock %}</title>
        <!-- <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}"> -->

    </head>
    <body>
        <!-- Navigation Bar -->
        <nav class="border navbar navbar-light navbar-expand-md">
            <div class="container-fluid">
                {% if session["user_id"] %}
                    <!-- Left: Points Section -->
                    <div class="points-section">
                        <span class="points-label">My Points</span>
                        <div class="point-item point-xxx">
                            <span class="point-type">Describe</span>
                            <span class="point-value">{{ points.desc_point }}</span>
                        </div>
                        <div class="point-item point-yyy">
                            <span class="point-type">Forbid</span>
                            <span class="point-value">{{ points.forbid_point }}</span>
                        </div>
                        <div class="point-item point-zzz">
                            <span class="point-type">Guess</span>
                            <span class="point-value">{{ points.guess_point }}</span>
                        </div>
                    </div>

                    <!-- Center: Explore Button -->
                    <div class="nav-center">
                        <ul class="nav-list">
                            <li><a href="/" class="nav-btn">Profile</a></li>
                            <li><a href="/new_describid" class="nav-btn"></a>Create</li>
                            <li><a href="/explore" class="explore-btn">Explore</a></li>
                            <li><a href="/history" class="nav-btn">History</a></li>
                            <!--<li><a href="#" class="nav-btn">Ranking New&nbsp;Describid</a></li>-->
                        </ul>
                    </div>

                    <!-- Right: Action Tokens & Logout -->
                    <div class="nav-right">
                        <!-- Action Tokens -->
                        <div class="action-tokens">
                            <!--
                            <div class="token-item">
                                <span class="token-type">Xxx</span>
                                <span class="token-value">3/5</span>
                            </div>
                            <div class="token-item">
                                <span class="token-type">Xxx</span>
                                <span class="token-value">4/5</span>
                            </div>
                            <div class="token-item">
                                <span class="token-type">Xxx</span>
                                <span class="token-value">1/7</span>
                            </div>
                            -->
                        </div>
                        
                        <!-- Logout Button -->
                        <a href="/logout" class="logout-btn">Logout</a>
                    </div>
                {% else %}
                    <!-- LOGGED OUT: Simplified layout -->
                    <!-- Left: App Brand/Logo (optional) -->
                    <div class="nav-left">
                        <span class="app-brand">4Describid</span>
                    </div>

                    <!-- Right: Register/Login -->
                    <div class="nav-corner">
                        <ul class="nav-list">
                            <li><a href="/register" class="nav-btn">Register</a></li>
                            <li><a href="/login" class="nav-btn">Login</a></li>
                        </ul>
                    </div>
                {% endif %}
            </div>
        </nav>

        <!-- Main panel -->
        <main class="container py-5 text-center main-content">
            {% if get_flashed_messages() %}
                <header>
                    <div class="alert alert-primary mt-0 mb-0 text-center" role="alert">
                        {{ get_flashed_messages() | join(" ") | safe }}
                    </div>
                </header>
            {% endif %}

            {% block main %}{% endblock %}
        </main>

            <!-- Footer -->
        <footer class="footer py-4 mt-5">
            <div class="container text-center">
                <p class="mb-1 text-muted">
                    CS50 Final Project by <strong>Chutipong Arunkijthawornkul</strong>
                </p>
                <p class="mb-0 text-muted small">
                    Â© 2025 4Describid. All rights reserved.
                </p>
            </div>
        </footer>
        <script src="/static/app_logic.js"></script>
    </body>
</html>